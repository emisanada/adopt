<!DOCTYPE html>
<html>
  <head>
    <title>Adopt</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
    <link href="https://fonts.googleapis.com/css?family=Gamja+Flower" rel="stylesheet">
  </head>

  <body>
    <!-- Wrapper -->
    <div id="wrapper">

      <!-- Header -->
      <header id="header">
        <nav class="links long-shadow left-header">
          <ul>
            <%= link_to new_pet_path do %>
              <li><%= fa_icon("plus", text: "Add pet for adoption") %></li>
            <% end %>
            <%= link_to pets_path do %>
              <li><%= fa_icon("paw", text: "Check out pets") %></li>
            <% end %>
          </ul>
        </nav>

        <div class="logo-header">
          <%= link_to root_path do %>
            <img src="/images/Logo2.png" alt="Logo" class="logo" />
          <% end %>
        </div>
        
        <nav class="links long-shadow right-header">
          <ul>
            <% if @current_user.present? %>
              <%= link_to edit_user_path(@current_user.id) do %>
                <li><%= fa_icon("user", text: @current_user.username) %></li>
              <% end %>
              <%= link_to logout_path do %>
                <li><%= fa_icon("sign-out", text: "Logout") %></li>
              <% end %>
            <% else %>
              <%= link_to login_path do %>
                <li><%= fa_icon("sign-in", text: "Login") %></li>
              <% end %>
              <%= link_to new_user_path do %>
                <li><%= fa_icon("sign-in", text: "Signup") %></li>
              <% end %>
            <% end %>

            <% if user_admin?(@current_user) %>
              <%= link_to users_path do %>
                <li><%= fa_icon("users", text: "List users") %></li>
              <% end %>
            <% end %>
          </ul>
        </nav>
      </header>

      <div class="content">
        <!-- Warnings and Notices -->
        <% if flash[:error].present? && flash[:error].kind_of?(Array) %>
          <div class="alert alert-error" id="error">
            <% flash[:error].each do |error| %>
              <p><%= error.to_s %></p>
            <% end %>
          </div>
        <% end %>

        <% if flash[:error].present? && flash[:error].kind_of?(String) %>
          <div class="alert alert-error" id="error"><%= flash[:error] %></div>
        <% end %>

        <% if flash[:notice] %>
          <div class="alert alert-success" id="notice"> <%= flash[:notice] %></div>
        <% end %>

        <!-- Main -->
        <div id="main container">
          <%= yield %>
        </div>
      </div>

    </div>

  </body>

  <footer>
    <div id="footer">Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
  </footer>
</html>
